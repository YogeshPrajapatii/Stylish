package com.yogesh.stylish.presentation.feature.cartimport androidx.compose.foundation.layout.*import androidx.compose.foundation.lazy.LazyColumnimport androidx.compose.foundation.lazy.itemsimport androidx.compose.material.icons.Iconsimport androidx.compose.material.icons.automirrored.filled.ArrowBackimport androidx.compose.material3.*import androidx.compose.runtime.Composableimport androidx.compose.runtime.collectAsStateimport androidx.compose.runtime.getValueimport androidx.compose.ui.Alignmentimport androidx.compose.ui.Modifierimport androidx.compose.ui.unit.dpimport androidx.hilt.navigation.compose.hiltViewModelimport androidx.navigation.NavControllerimport com.yogesh.stylish.presentation.component.StylishButtonimport com.yogesh.stylish.presentation.feature.cart.components.CartItemCardimport com.yogesh.stylish.presentation.navigation.Routes@OptIn(ExperimentalMaterial3Api::class)@Composablefun CartScreen(    navController: NavController,    viewModel: CartViewModel = hiltViewModel()) {    val state by viewModel.state.collectAsState()    Scaffold(        topBar = {            TopAppBar(                title = { Text("My Cart") },                navigationIcon = {                    IconButton(onClick = { navController.popBackStack() }) {                        Icon(Icons.AutoMirrored.Filled.ArrowBack, contentDescription = "Back")                    }                },                actions = {                    if (state.cartItems.isNotEmpty() && !state.isLoading) {                        TextButton(onClick = { viewModel.clearCart() }) {                            Text("Clear All", color = MaterialTheme.colorScheme.error)                        }                    }                }            )        },        bottomBar = {            if (state.cartItems.isNotEmpty() && !state.isLoading) {                CartBottomBar(                    totalPrice = state.totalPrice,                    totalItems = state.totalItems,                    onCheckout = { navController.navigate(Routes.AddressListScreen) }                )            }        }    ) { paddingValues ->        Box(            modifier = Modifier.fillMaxSize().padding(paddingValues),            contentAlignment = Alignment.Center        ) {            when {                state.isLoading -> CircularProgressIndicator()                state.error != null -> Text(text = state.error ?: "Error", color = MaterialTheme.colorScheme.error)                state.cartItems.isEmpty() -> {                    Column(                        modifier = Modifier.padding(16.dp),                        horizontalAlignment = Alignment.CenterHorizontally,                        verticalArrangement = Arrangement.spacedBy(16.dp)                    ) {                        Text("Your cart is empty", style = MaterialTheme.typography.titleLarge)                        StylishButton(                            text = "Shop",                            onClick = { navController.navigate(Routes.HomeScreen) }                        )                    }                }                else -> {                    LazyColumn(                        modifier = Modifier.fillMaxSize(),                        contentPadding = PaddingValues(16.dp),                        verticalArrangement = Arrangement.spacedBy(12.dp)                    ) {                        items(state.cartItems) { cartItem ->                            CartItemCard(                                cartItem = cartItem,                                onProductClick = { navController.navigate(Routes.ProductDetailScreen(cartItem.product.id)) },                                onQuantityIncrease = { viewModel.updateQuantity(cartItem.product.id, cartItem.selectedSize, cartItem.quantity + 1) },                                onQuantityDecrease = { viewModel.updateQuantity(cartItem.product.id, cartItem.selectedSize, cartItem.quantity - 1) },                                onRemove = { viewModel.removeFromCart(cartItem.product.id, cartItem.selectedSize) }                            )                        }                    }                }            }        }    }}